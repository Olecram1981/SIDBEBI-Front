<div class="container mat-elevation-z8">
  <form class="form">

    <h1 class="full-width">Venda</h1>

    <mat-form-field class="box full-width" appearance="outline">
      <mat-label>Forma do Pagamento</mat-label>
      <mat-select 
      [(ngModel)]="venda.pagamento"
      name="pagamento"
      [formControl]="pagamento" 
      required>
        <mat-option value="0">DINHEIRO</mat-option>
        <mat-option value="1">DÉBITO</mat-option>
        <mat-option value="2">CRÉDITO</mat-option>
        <mat-option value="3">PIX</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="fullWidth" appearance="legacy">
      <mat-label>Código de Barras</mat-label>
      <input                
      [(ngModel)]="codBarra"        
      name="codBarra"
      [formControl]="codBarraT"
      required
      matInput
      maxlength="50">
    </mat-form-field>  

    <button (click)="verificaAgendamento()" class="fullWidth mat-elevation-z4" mat-flat-button color="primary">Inserir Item</button>
   
    <div class="lista mat-elevation-z8"> 

      <h2>Produtos:</h2>
      <ul>
        <li *ngFor="let item of itens"> {{item.nomeProduto}} {{item.tamanho}} --- {{item.valor | currency}}</li>
      </ul>
        
    </div>

    <mat-form-field class="qtd" appearance="legacy">
      <mat-label>Quantidade de Itens</mat-label>
      <input           
      [(ngModel)]="venda.qtdItens"
      [formControl]="qtdItens"
      name="qtdItens"      
      matInput>
    </mat-form-field>  
    
    <mat-form-field class="fullWidth" appearance="legacy">
      <mat-label>Valor Total</mat-label>
      <input        
      currencyMask    
      [(ngModel)]="venda.valorTotal"
      [formControl]="valorTotal"
      name="valorTotal"        
      matInput>
    </mat-form-field>  

    <mat-form-field class="fullWidth" appearance="legacy">
      <mat-label>Valor Pago</mat-label>
      <input  
      currencyMask          
      [(ngModel)]="valorPago"
      name="valorPago"        
      matInput>
    </mat-form-field>  

    <mat-form-field class="fullWidth" appearance="legacy">
      <mat-label>Troco</mat-label>
      <input        
      currencyMask    
      [(ngModel)]="troco"
      name="troco"    
      disabled="true"    
      matInput>
    </mat-form-field>  

    <button (click)="create()" [disabled]="!validaCampos()" class="fullWidth mat-elevation-z4" 
    mat-flat-button color="primary">Gerar Venda</button>

    <button routerLink="/home" class="fullWidth mat-elevation-z4" mat-stroked-button color="warn">Cancelar</button>     

  </form>  

</div>